@import "tailwindcss";

@theme {
  --color-background: hsl(36 33% 95%);
  --color-foreground: hsl(204 22% 14%);

  --color-card: hsl(36 38% 98%);
  --color-card-foreground: hsl(204 22% 14%);

  --color-popover: hsl(36 38% 98%);
  --color-popover-foreground: hsl(204 22% 14%);

  --color-primary: hsl(162 44% 26%);
  --color-primary-foreground: hsl(38 40% 96%);

  --color-secondary: hsl(32 28% 86%);
  --color-secondary-foreground: hsl(204 22% 14%);

  --color-muted: hsl(32 26% 90%);
  --color-muted-foreground: hsl(200 8% 46%);

  --color-accent: hsl(16 64% 46%);
  --color-accent-foreground: hsl(38 40% 96%);

  --color-destructive: hsl(350 66% 46%);
  --color-destructive-foreground: hsl(38 40% 96%);

  --color-border: hsl(28 18% 74%);
  --color-input: hsl(28 18% 74%);
  --color-ring: hsl(162 44% 26%);

  --radius: 1rem;

  --color-chart-1: hsl(162 44% 26%);
  --color-chart-2: hsl(16 64% 46%);
  --color-chart-3: hsl(204 20% 32%);
  --color-chart-4: hsl(36 74% 52%);
  --color-chart-5: hsl(350 66% 46%);

  /* 动画 */
  --animate-fade-in: fade-in 0.7s ease-out;
  --animate-slide-up: slide-up 0.7s ease-out;
  --animate-float: float 7s ease-in-out infinite;

  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slide-up {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes float {
    0%,
    100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-12px);
    }
  }
}

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground;
    font-family: var(--font-body), "Noto Sans", sans-serif;
    font-feature-settings: "rlig" 1, "calt" 1;
    background-image:
      linear-gradient(180deg, rgba(255, 255, 255, 0.72), rgba(255, 255, 255, 0.76)),
      radial-gradient(circle at 8% 6%, rgba(21, 84, 62, 0.18), transparent 45%),
      radial-gradient(circle at 92% 12%, rgba(208, 122, 74, 0.16), transparent 38%),
      repeating-linear-gradient(90deg, rgba(15, 23, 42, 0.04) 0, rgba(15, 23, 42, 0.04) 1px, transparent 1px, transparent 28px),
      repeating-linear-gradient(0deg, rgba(15, 23, 42, 0.04) 0, rgba(15, 23, 42, 0.04) 1px, transparent 1px, transparent 28px);
    background-attachment: fixed;
  }

  h1,
  h2,
  h3 {
    font-family: var(--font-display), "Noto Serif", serif;
    letter-spacing: -0.015em;
  }

  code,
  .font-mono {
    font-family: var(--font-mono), "Fira Mono", monospace;
  }
}

/* 自定义滚动条 */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--color-muted);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: var(--color-border);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-muted-foreground);
}

@layer components {
  .paper-panel {
    background-color: hsl(36 38% 98% / 0.92);
    border: 1px solid hsl(28 18% 70% / 0.7);
    border-radius: 1.5rem;
    box-shadow:
      0 18px 40px -32px rgba(15, 23, 42, 0.45),
      inset 0 1px 0 rgba(255, 255, 255, 0.6);
    background-image:
      linear-gradient(180deg, rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.6));
  }

  .ink-label {
    letter-spacing: 0.2em;
    text-transform: uppercase;
    font-size: 0.72rem;
  }

  .stamp-badge {
    @apply inline-flex items-center gap-2 rounded-full border px-3 py-1 text-xs font-semibold;
    border-color: hsl(162 44% 26% / 0.4);
    color: hsl(162 44% 26%);
    background: linear-gradient(120deg, rgba(21, 84, 62, 0.08), rgba(21, 84, 62, 0.02));
  }

  .ledger-table thead th {
    @apply text-left px-4 py-3 font-semibold;
    letter-spacing: 0.14em;
    text-transform: uppercase;
    font-size: 0.7rem;
    color: hsl(200 8% 46%);
  }

  .ledger-table tbody td {
    @apply px-4 py-3;
  }

  .ledger-table tbody tr {
    border-bottom: 1px dashed hsl(28 18% 74% / 0.6);
  }

  .ledger-table tbody tr:hover {
    background: hsl(32 26% 90% / 0.55);
  }
}

/* 动画入场效果 */
.animate-stagger > * {
  animation: fade-in 0.5s ease-out backwards;
}

.animate-stagger > *:nth-child(1) { animation-delay: 0ms; }
.animate-stagger > *:nth-child(2) { animation-delay: 50ms; }
.animate-stagger > *:nth-child(3) { animation-delay: 100ms; }
.animate-stagger > *:nth-child(4) { animation-delay: 150ms; }
.animate-stagger > *:nth-child(5) { animation-delay: 200ms; }
.animate-stagger > *:nth-child(6) { animation-delay: 250ms; }

.text-balance {
  text-wrap: balance;
}
